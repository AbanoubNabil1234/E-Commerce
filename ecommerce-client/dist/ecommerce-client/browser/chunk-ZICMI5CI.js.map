{
  "version": 3,
  "sources": ["src/app/core/services/notification.service.ts"],
  "sourcesContent": ["import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\n\r\nexport type NotificationType = 'success' | 'error' | 'warning' | 'info';\r\n\r\nexport interface Notification {\r\n    id: string;\r\n    type: NotificationType;\r\n    title?: string;\r\n    message: string;\r\n    duration?: number; // ms, 0 = persistent\r\n    dismissible?: boolean;\r\n}\r\n\r\nexport interface NotificationOptions {\r\n    title?: string;\r\n    duration?: number;\r\n    dismissible?: boolean;\r\n}\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class NotificationService {\r\n    private readonly DEFAULT_DURATION = 5000;\r\n    private readonly MAX_NOTIFICATIONS = 5;\r\n\r\n    private notificationsSubject = new BehaviorSubject<Notification[]>([]);\r\n    public notifications$: Observable<Notification[]> = this.notificationsSubject.asObservable();\r\n\r\n    private generateId(): string {\r\n        return `notification-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\r\n    }\r\n\r\n    private addNotification(notification: Notification): void {\r\n        const current = this.notificationsSubject.value;\r\n\r\n        // Limit to max notifications\r\n        const updated = [...current, notification].slice(-this.MAX_NOTIFICATIONS);\r\n        this.notificationsSubject.next(updated);\r\n\r\n        // Auto-dismiss if duration is set\r\n        if (notification.duration && notification.duration > 0) {\r\n            setTimeout(() => this.dismiss(notification.id), notification.duration);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Show a success notification\r\n     */\r\n    success(message: string, options?: NotificationOptions): void {\r\n        this.addNotification({\r\n            id: this.generateId(),\r\n            type: 'success',\r\n            message,\r\n            title: options?.title,\r\n            duration: options?.duration ?? this.DEFAULT_DURATION,\r\n            dismissible: options?.dismissible ?? true\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Show an error notification\r\n     */\r\n    error(message: string, options?: NotificationOptions): void {\r\n        this.addNotification({\r\n            id: this.generateId(),\r\n            type: 'error',\r\n            message,\r\n            title: options?.title,\r\n            duration: options?.duration ?? this.DEFAULT_DURATION * 1.5, // Errors stay longer\r\n            dismissible: options?.dismissible ?? true\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Show a warning notification\r\n     */\r\n    warning(message: string, options?: NotificationOptions): void {\r\n        this.addNotification({\r\n            id: this.generateId(),\r\n            type: 'warning',\r\n            message,\r\n            title: options?.title,\r\n            duration: options?.duration ?? this.DEFAULT_DURATION,\r\n            dismissible: options?.dismissible ?? true\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Show an info notification\r\n     */\r\n    info(message: string, options?: NotificationOptions): void {\r\n        this.addNotification({\r\n            id: this.generateId(),\r\n            type: 'info',\r\n            message,\r\n            title: options?.title,\r\n            duration: options?.duration ?? this.DEFAULT_DURATION,\r\n            dismissible: options?.dismissible ?? true\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Dismiss a specific notification\r\n     */\r\n    dismiss(id: string): void {\r\n        const current = this.notificationsSubject.value;\r\n        this.notificationsSubject.next(current.filter(n => n.id !== id));\r\n    }\r\n\r\n    /**\r\n     * Clear all notifications\r\n     */\r\n    clearAll(): void {\r\n        this.notificationsSubject.next([]);\r\n    }\r\n}\r\n"],
  "mappings": ";;;;;;AAuBM,IAAO,sBAAP,MAAO,qBAAmB;EACX,mBAAmB;EACnB,oBAAoB;EAE7B,uBAAuB,IAAI,gBAAgC,CAAA,CAAE;EAC9D,iBAA6C,KAAK,qBAAqB,aAAY;EAElF,aAAU;AACd,WAAO,gBAAgB,KAAK,IAAG,CAAE,IAAI,KAAK,OAAM,EAAG,SAAS,EAAE,EAAE,OAAO,GAAG,CAAC,CAAC;EAChF;EAEQ,gBAAgB,cAA0B;AAC9C,UAAM,UAAU,KAAK,qBAAqB;AAG1C,UAAM,UAAU,CAAC,GAAG,SAAS,YAAY,EAAE,MAAM,CAAC,KAAK,iBAAiB;AACxE,SAAK,qBAAqB,KAAK,OAAO;AAGtC,QAAI,aAAa,YAAY,aAAa,WAAW,GAAG;AACpD,iBAAW,MAAM,KAAK,QAAQ,aAAa,EAAE,GAAG,aAAa,QAAQ;IACzE;EACJ;;;;EAKA,QAAQ,SAAiB,SAA6B;AAClD,SAAK,gBAAgB;MACjB,IAAI,KAAK,WAAU;MACnB,MAAM;MACN;MACA,OAAO,SAAS;MAChB,UAAU,SAAS,YAAY,KAAK;MACpC,aAAa,SAAS,eAAe;KACxC;EACL;;;;EAKA,MAAM,SAAiB,SAA6B;AAChD,SAAK,gBAAgB;MACjB,IAAI,KAAK,WAAU;MACnB,MAAM;MACN;MACA,OAAO,SAAS;MAChB,UAAU,SAAS,YAAY,KAAK,mBAAmB;;MACvD,aAAa,SAAS,eAAe;KACxC;EACL;;;;EAKA,QAAQ,SAAiB,SAA6B;AAClD,SAAK,gBAAgB;MACjB,IAAI,KAAK,WAAU;MACnB,MAAM;MACN;MACA,OAAO,SAAS;MAChB,UAAU,SAAS,YAAY,KAAK;MACpC,aAAa,SAAS,eAAe;KACxC;EACL;;;;EAKA,KAAK,SAAiB,SAA6B;AAC/C,SAAK,gBAAgB;MACjB,IAAI,KAAK,WAAU;MACnB,MAAM;MACN;MACA,OAAO,SAAS;MAChB,UAAU,SAAS,YAAY,KAAK;MACpC,aAAa,SAAS,eAAe;KACxC;EACL;;;;EAKA,QAAQ,IAAU;AACd,UAAM,UAAU,KAAK,qBAAqB;AAC1C,SAAK,qBAAqB,KAAK,QAAQ,OAAO,OAAK,EAAE,OAAO,EAAE,CAAC;EACnE;;;;EAKA,WAAQ;AACJ,SAAK,qBAAqB,KAAK,CAAA,CAAE;EACrC;;qCA7FS,sBAAmB;EAAA;4EAAnB,sBAAmB,SAAnB,qBAAmB,WAAA,YAFhB,OAAM,CAAA;;",
  "names": []
}
